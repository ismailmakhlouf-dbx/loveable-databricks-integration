# Databricks App Configuration for {{ project_name }}
# Auto-generated by Lovable Bridge MCP Server

command:
  - "uvicorn"
  - "app.main:app"
  - "--host"
  - "0.0.0.0"
  - "--port"
  - "8000"

env:
  # Database configuration
  - name: DATABASE_URL
    value: "{{ database_url }}"

  # Databricks configuration
  - name: DATABRICKS_HOST
    value: "{{ databricks_host }}"

  - name: DATABRICKS_TOKEN
    valueFrom:
      secretRef:
        name: databricks-token
        key: token

  {% for env_var in additional_env_vars %}
  - name: {{ env_var.name }}
    value: "{{ env_var.value }}"
  {% endfor %}

resources:
  requests:
    memory: "{{ memory_request }}"
    cpu: "{{ cpu_request }}"
  limits:
    memory: "{{ memory_limit }}"
    cpu: "{{ cpu_limit }}"

port: 8000

{% if volumes %}
volumes:
  {% for volume in volumes %}
  - name: {{ volume.name }}
    path: {{ volume.path }}
    volumeRef:
      name: {{ volume.volume_ref }}
  {% endfor %}
{% endif %}
